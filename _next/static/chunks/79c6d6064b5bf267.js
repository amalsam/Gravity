(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33107,e=>{"use strict";var t=e.i(43476),s=e.i(71645);function r({dataAdSlot:e,dataAdFormat:r="auto",dataFullWidthResponsive:i="true",className:n=""}){return(0,s.useEffect)(()=>{try{(window.adsbygoogle||[]).push({})}catch(e){console.error("AdSense error",e)}},[]),(0,t.jsx)("div",{className:`w-full overflow-hidden flex justify-center items-center my-4 ${n}`,children:(0,t.jsx)("ins",{className:"adsbygoogle",style:{display:"block"},"data-ad-client":"ca-pub-XXXXXXXXXXXXXXXX","data-ad-slot":e,"data-ad-format":r,"data-full-width-responsive":i})})}e.s(["AdBanner",()=>r],33107)},42584,e=>{"use strict";var t=e.i(43476),s=e.i(71645);function r({title:e,accentClass:r,sections:i,onClose:n}){return(0,s.useEffect)(()=>{let e=e=>{"Escape"===e.key&&n()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[n]),(0,t.jsx)("div",{className:"fixed inset-0 z-[100] flex items-end md:items-center justify-center bg-black/80 backdrop-blur-sm p-0 md:p-4",onClick:n,children:(0,t.jsxs)("div",{className:"relative w-full md:max-w-2xl bg-[#0d0d0d] border border-white/10 rounded-t-3xl md:rounded-2xl shadow-2xl max-h-[88vh] overflow-hidden flex flex-col",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-5 pt-5 pb-4 border-b border-white/10",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-[10px] font-bold tracking-widest text-gray-500 uppercase",children:"Science"}),(0,t.jsx)("span",{className:`text-[9px] px-1.5 py-0.5 rounded-full border font-bold ${r}`,children:"Physics"})]}),(0,t.jsx)("h2",{className:"text-xl font-extrabold text-white mt-0.5",children:e})]}),(0,t.jsx)("button",{onClick:n,className:"w-8 h-8 flex items-center justify-center rounded-full bg-white/5 border border-white/10 text-gray-400 hover:text-white hover:bg-white/15 transition-all","aria-label":"Close",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("div",{className:"overflow-y-auto px-5 py-4 space-y-6 custom-scrollbar",children:[i.map((e,s)=>(0,t.jsxs)("section",{children:[(0,t.jsx)("h3",{className:"text-sm font-bold text-white mb-1.5 tracking-wide",children:e.heading}),e.text&&(0,t.jsx)("p",{className:"text-[13px] text-gray-400 leading-relaxed",children:e.text}),e.equations&&(0,t.jsx)("div",{className:"mt-3 space-y-2",children:e.equations.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start gap-3 bg-white/5 border border-white/8 rounded-xl px-3 py-2.5 font-mono text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600 text-[10px] font-bold pt-0.5 shrink-0 tracking-wider",children:e.label}),(0,t.jsx)("code",{className:"text-emerald-300 text-[13px] leading-snug",children:e.value})]},s))}),e.code&&(0,t.jsx)("pre",{className:"mt-3 bg-black border border-white/10 rounded-xl p-3 text-[11px] md:text-xs text-emerald-300 overflow-x-auto leading-relaxed custom-scrollbar",children:(0,t.jsx)("code",{children:e.code})})]},s)),(0,t.jsx)("div",{className:"pb-2"})]})]})})}e.s(["default",()=>r])},71786,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(33107),i=e.i(42584);let n=(e,t)=>{let s=t*t-e;return s>0?315/(64*Math.PI*t**9)*s**3:0},l=(e,t)=>{let s=t-e;return s>0?-45/(Math.PI*t**6)*s**2:0},a=(e,t)=>{let s=t-e;return s>0?45/(Math.PI*t**6)*s:0};class o{constructor(e,t){this.x=e,this.y=t,this.vx=0,this.vy=0,this.density=0,this.pressure=0,this.fx=0,this.fy=0}}function d(){let e=(0,s.useRef)(null),d=(0,s.useRef)(null),c=(0,s.useRef)([]),x=(0,s.useRef)("speed"),[h,u]=(0,s.useState)("down"),[m,p]=(0,s.useState)(15),[b,g]=(0,s.useState)(0),[f,v]=(0,s.useState)("speed"),[w,y]=(0,s.useState)(!1),[j,N]=(0,s.useState)(!1),[k,C]=(0,s.useState)(!0),L=(0,s.useRef)({startY:0,startX:0}),M=(0,s.useRef)({});M.current={gravity:h,viscosity:m,colorMode:f},x.current=f;let E=(e,t)=>{for(let s=0;s<12;s++){let s=new o(e+(Math.random()-.5)*20,t+(Math.random()-.5)*20);s.vx=(Math.random()-.5)*30,s.vy=(Math.random()-.5)*30,c.current.length<600&&c.current.push(s)}};return(0,s.useEffect)(()=>{let t=e.current;if(!t)return;let s=()=>{t.width=window.innerWidth,t.height=window.innerHeight};window.addEventListener("resize",s),s();for(let e=t.width/2-60;e<t.width/2+60;e+=12)for(let t=80;t<200;t+=12)c.current.push(new o(e,t));let r=!1,i=e=>{e.target.closest(".ui-panel")||e.target.closest("nav")||(r=!0,E(e.clientX||e.touches[0].clientX,(e.clientY||e.touches[0].clientY)-64))},h=e=>{if(!r)return;let t=e.clientX||e.touches&&e.touches[0].clientX,s=(e.clientY||e.touches&&e.touches[0].clientY)-64;t&&s&&E(t,s)},u=()=>{r=!1};t.addEventListener("mousedown",i),t.addEventListener("mousemove",h),t.addEventListener("touchstart",i,{passive:!0}),t.addEventListener("touchmove",h,{passive:!0}),window.addEventListener("mouseup",u),window.addEventListener("touchend",u);let m=t.getContext("2d"),p=0,b=()=>{d.current=requestAnimationFrame(b);let e=c.current,s=M.current,r=s.viscosity,i=t.width,o=t.height,h=0,u=0;for(let t of("down"===s.gravity&&(u=200),"up"===s.gravity&&(u=-200),"zero"===s.gravity&&(h=0,u=0),e.length,e)){for(let s of(t.density=0,e)){let e=s.x-t.x,r=s.y-t.y,i=e*e+r*r;i<900&&(t.density+=n(i,30))}t.pressure=80*(t.density-12)}for(let t of e)for(let s of(t.fx=h,t.fy=u,e)){if(t===s)continue;let e=s.x-t.x,i=s.y-t.y,n=Math.sqrt(e*e+i*i);if(n<30&&n>0){let o=e/n,d=i/n,c=-(t.pressure+s.pressure)/(2*s.density+.001)*l(n,30);t.fx+=o*c,t.fy+=d*c;let x=r/s.density*(s.vx-t.vx)*a(n,30);t.fx+=x,t.fy+=r/s.density*(s.vy-t.vy)*a(n,30)}}for(let t of e){let e=Math.max(t.density,.001);t.vx+=t.fx/e*.016,t.vy+=t.fy/e*.016,t.x+=.016*t.vx,t.y+=.016*t.vy,t.x<5&&(t.x=5,t.vx*=-.3),t.x>i-5&&(t.x=i-5,t.vx*=-.3),t.y<5&&(t.y=5,t.vy*=-.3),t.y>o-5&&(t.y=o-5,t.vy*=-.3)}for(let t of(m.fillStyle="rgba(0,0,12,0.4)",m.fillRect(0,0,i,o),e)){let e,s=Math.sqrt(t.vx*t.vx+t.vy*t.vy);if("speed"===x.current){let t=Math.min(s/150,1),r=Math.floor(100*t+55*(1-t)),i=Math.floor((1-t)*80),n=Math.floor((1-t)*220+40*t);e=`rgb(${r},${i},${n})`}else if("density"===x.current){let s=Math.min(t.density/20,1);e=`hsl(${200+60*s},80%,${40+30*s}%)`}else e="#6366f1";m.beginPath(),m.arc(t.x,t.y,5,0,2*Math.PI),m.fillStyle=e,m.shadowBlur=4,m.shadowColor=e,m.fill()}m.shadowBlur=0,++p%20==0&&g(c.current.length)};return b(),()=>{window.removeEventListener("resize",s),t.removeEventListener("mousedown",i),t.removeEventListener("mousemove",h),t.removeEventListener("touchstart",i),t.removeEventListener("touchmove",h),window.removeEventListener("mouseup",u),window.removeEventListener("touchend",u),cancelAnimationFrame(d.current)}},[]),(0,t.jsxs)("div",{className:"relative w-full h-[calc(100vh-4rem)] bg-black overflow-hidden select-none",children:[w&&(0,t.jsx)(i.default,{title:"Fluid SPH â€” Smoothed Particle Hydrodynamics",accentClass:"text-indigo-400 border-indigo-400/30 bg-indigo-400/10",onClose:()=>y(!1),sections:[{heading:"Smoothed Particle Hydrodynamics",text:"SPH is a mesh-free particle method for simulating fluid flows. Each particle carries fluid properties (density, pressure, velocity). Properties at any point in space are estimated by averaging nearby particle values, weighted by a smooth kernel function W(r, h) that falls off with distance h."},{heading:"Kernel Functions & Density",text:"The Poly6 kernel estimates density at each particle by summing contributions from neighbours within smoothing radius h. Pressure is derived from density via an equation of state.",equations:[{label:"Density",value:"Ïáµ¢ = Î£â±¼ mâ±¼ Â· W(|ráµ¢-râ±¼|, h)"},{label:"Pressure",value:"páµ¢ = k(Ïáµ¢ - Ï_rest)"},{label:"W(r,h)",value:"315/(64Ï€hâ¹) Â· (hÂ²-rÂ²)Â³"}]},{heading:"Pressure & Viscosity Forces",code:`// Pressure force between particles i and j
const pForce = -(p.pressure + q.pressure)
  / (2 * q.density) * spiky(r, h);

// Viscosity smooths velocity differences
const vForce = VISC / q.density
  * (q.vx - p.vx) * viscLaplacian(r, h);`}]}),(0,t.jsx)("canvas",{ref:e,className:"block w-full h-full bg-black touch-none",style:{width:"100vw",height:"100vh"}}),(0,t.jsx)("div",{className:"absolute top-0 right-0 w-[400px] h-[400px] bg-indigo-900/10 rounded-full blur-[120px] pointer-events-none"}),(0,t.jsx)("button",{onClick:()=>C(!k),className:"hidden md:flex absolute top-6 right-6 z-50 bg-white/5 backdrop-blur-xl border border-white/20 p-3 rounded-full shadow-2xl text-white items-center justify-center ui-panel hover:bg-white/10",children:(0,t.jsx)("svg",{className:`w-5 h-5 transition-transform duration-300 ${k?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})}),(0,t.jsx)("div",{className:`ui-panel hidden md:block absolute top-6 right-20 bg-white/5 backdrop-blur-3xl p-4 rounded-2xl border border-white/10 text-sm text-white w-[280px] shadow-2xl transition-all duration-300 z-40 ${k?"translate-x-0 opacity-100 visible":"translate-x-[120%] opacity-0 invisible pointer-events-none"}`,children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("span",{className:"text-xl",children:"ðŸŒŠ"}),(0,t.jsx)("h2",{className:"text-xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-indigo-400 to-blue-500",children:"Fluid SPH"})]}),(0,t.jsx)("p",{className:"text-[10px] text-gray-400 tracking-wider mb-3 pb-2 border-b border-white/10 uppercase font-semibold",children:"Smoothed Particle Hydrodynamics"}),(0,t.jsxs)("div",{className:"space-y-3 max-h-[600px] overflow-y-auto pr-1 custom-scrollbar",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 bg-black/40 p-3 rounded-xl border border-white/5",children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-gray-500 text-[9px] font-bold",children:"PARTICLES"}),(0,t.jsx)("span",{className:"text-white font-mono text-lg",children:b})]}),(0,t.jsxs)("div",{className:"flex flex-col border-l border-white/10 pl-3",children:[(0,t.jsx)("span",{className:"text-gray-500 text-[9px] font-bold",children:"GRAVITY"}),(0,t.jsx)("span",{className:"text-indigo-400 font-mono text-sm",children:h})]})]}),(0,t.jsx)("div",{className:"bg-indigo-500/5 border border-indigo-500/15 p-2.5 rounded-xl",children:(0,t.jsxs)("p",{className:"text-[10px] text-indigo-200",children:[(0,t.jsx)("strong",{className:"text-white",children:"Drag"})," on canvas to spawn fluid particles."]})}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-[9px] text-gray-500 font-bold tracking-wider mb-2",children:"GRAVITY"}),(0,t.jsx)("div",{className:"flex gap-1.5",children:["down","zero","up"].map(e=>(0,t.jsxs)("button",{onClick:()=>u(e),className:`flex-1 py-2 rounded-xl text-[10px] font-bold transition-all border ${h===e?"bg-indigo-500/20 border-indigo-500/40 text-indigo-300":"bg-white/5 border-white/10 text-gray-400"}`,children:["down"===e?"â†“":"up"===e?"â†‘":"â—‹"," ",e]},e))})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("label",{className:"text-gray-400 text-[9px] font-bold tracking-wider",children:"VISCOSITY"}),(0,t.jsx)("span",{className:"text-[9px] font-mono text-indigo-400",children:m})]}),(0,t.jsx)("input",{type:"range",min:"1",max:"50",step:"1",value:m,onChange:e=>p(+e.target.value),className:"w-full h-1 bg-gray-700 rounded-lg appearance-none accent-indigo-500 cursor-pointer"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[9px] text-gray-500 font-bold tracking-wider mb-2",children:"COLOUR MODE"}),(0,t.jsx)("div",{className:"flex gap-1.5",children:["speed","density","flat"].map(e=>(0,t.jsx)("button",{onClick:()=>v(e),className:`flex-1 py-1.5 rounded-xl text-[9px] font-bold transition-all border capitalize ${f===e?"bg-indigo-500/20 border-indigo-500/40 text-indigo-300":"bg-white/5 border-white/10 text-gray-400"}`,children:e},e))})]}),(0,t.jsxs)("div",{className:"pt-2 border-t border-white/10 space-y-2",children:[(0,t.jsxs)("button",{onClick:()=>{c.current=[],g(0)},className:"w-full py-2 bg-red-500/10 border border-red-500/30 text-red-300 rounded-xl text-[10px] font-bold hover:bg-red-500/20 transition-all flex items-center justify-center gap-1.5",children:[(0,t.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"CLEAR FLUID"]}),(0,t.jsxs)("button",{onClick:()=>y(!0),className:"w-full py-2 bg-indigo-500/10 border border-indigo-500/30 text-indigo-300 rounded-xl text-[10px] font-bold hover:bg-indigo-500/20 transition-all flex items-center justify-center gap-1.5",children:[(0,t.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"THE SCIENCE"]})]})]})]})}),(0,t.jsxs)("div",{className:`ui-panel md:hidden fixed bottom-0 left-0 right-0 w-full bg-black/70 backdrop-blur-3xl border-t border-white/15 rounded-t-3xl z-40 transition-all duration-500 ease-[cubic-bezier(0.32,0.72,0,1)] ${j?"h-[65vh]":"h-[110px]"}`,onTouchStart:e=>{L.current.startY=e.touches[0].clientY,L.current.startX=e.touches[0].clientX},onTouchEnd:e=>{let t=L.current.startY-e.changedTouches[0].clientY,s=Math.abs(L.current.startX-e.changedTouches[0].clientX);Math.abs(t)>40&&Math.abs(t)>s&&N(t>0)},children:[(0,t.jsxs)("div",{className:"w-full flex flex-col items-center pt-2 pb-1 cursor-pointer gap-1",onClick:()=>N(!j),children:[(0,t.jsx)("div",{className:`w-10 h-1 rounded-full transition-colors duration-300 ${j?"bg-indigo-400/50":"bg-white/30"}`}),!j&&(0,t.jsx)("span",{className:"text-[9px] text-white/30 tracking-widest uppercase animate-bounce",children:"swipe up"})]}),(0,t.jsx)("div",{className:"px-4 pb-4",children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 shrink-0",children:[(0,t.jsx)("span",{className:"text-lg",children:"ðŸŒŠ"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-indigo-400 to-blue-500 leading-none",children:"Fluid SPH"}),(0,t.jsx)("div",{className:"text-[8px] text-gray-500 tracking-widest uppercase",children:"Hydrodynamics"})]})]}),(0,t.jsx)("div",{className:"flex gap-1.5 ml-auto shrink-0",children:(0,t.jsxs)("div",{className:"flex flex-col items-center bg-black/40 border border-white/5 rounded-lg px-2.5 py-1",children:[(0,t.jsx)("span",{className:"text-[8px] text-gray-500 font-bold tracking-wider",children:"PTC"}),(0,t.jsx)("span",{className:"text-white font-mono text-xs leading-none",children:b})]})})]}),(0,t.jsx)("div",{className:"flex gap-1.5 mt-2.5",children:["down","zero","up"].map(e=>(0,t.jsx)("button",{onClick:()=>u(e),className:`flex-1 py-2 rounded-xl text-[10px] font-bold transition-all border ${h===e?"bg-indigo-500/20 border-indigo-500/40 text-indigo-300":"bg-white/5 text-gray-400 border-white/10"}`,children:"down"===e?"â†“":"up"===e?"â†‘":"â—‹"},e))}),j&&(0,t.jsx)("div",{className:"mt-3 space-y-3 overflow-y-auto pr-0.5 custom-scrollbar",style:{maxHeight:"calc(65vh - 130px)"},children:(0,t.jsxs)("div",{className:"pt-1 border-t border-white/10 space-y-2",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("label",{className:"text-gray-400 text-[9px] font-bold tracking-wider",children:"VISCOSITY"}),(0,t.jsx)("span",{className:"text-[9px] font-mono text-indigo-400",children:m})]}),(0,t.jsx)("input",{type:"range",min:"1",max:"50",step:"1",value:m,onChange:e=>p(+e.target.value),className:"w-full h-1.5 bg-gray-700 rounded-lg appearance-none accent-indigo-500 cursor-pointer"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[9px] text-gray-500 font-bold tracking-wider mb-1.5",children:"COLOUR MODE"}),(0,t.jsx)("div",{className:"flex gap-1.5",children:["speed","density","flat"].map(e=>(0,t.jsx)("button",{onClick:()=>v(e),className:`flex-1 py-1.5 rounded-xl text-[9px] font-bold transition-all border capitalize ${f===e?"bg-indigo-500/20 border-indigo-500/40 text-indigo-300":"bg-white/5 border-white/10 text-gray-400"}`,children:e},e))})]}),(0,t.jsxs)("button",{onClick:()=>{c.current=[],g(0)},className:"w-full py-2.5 bg-red-500/10 border border-red-500/30 text-red-300 rounded-xl text-[10px] font-bold transition-all flex items-center justify-center gap-1.5",children:[(0,t.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"CLEAR FLUID"]}),(0,t.jsxs)("button",{onClick:()=>y(!0),className:"w-full py-2.5 bg-indigo-500/10 border border-indigo-500/30 text-indigo-300 rounded-xl text-[10px] font-bold transition-all flex items-center justify-center gap-1.5",children:[(0,t.jsx)("svg",{className:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"THE SCIENCE"]})]})})]})})]}),(0,t.jsx)(r.AdBanner,{className:"absolute bottom-4 left-0 right-0 z-10 pointer-events-none"})]})}e.s(["default",()=>d])}]);